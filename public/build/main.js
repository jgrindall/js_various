define("base/events/events",[],function(){"use strict";var e={};return e.ENGINE_STARTED="engineStarted",e.GAME_PAUSED="gamePaused",e}),define("base/events/eventdispatcher",[],function(){"use strict";var e=function(){this._dom=$("<div></div>")};return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.addListener=function(e,t){if(!e)throw new Error("type "+e+" undefined");if(!t)throw new Error("listenerFn "+t+" undefined");this._dom.on(e,t)},e.prototype.removeListener=function(e,t){if(!e)throw new Error("type "+e+" undefined");if(!t)throw new Error("listenerFn "+t+" undefined");this._dom.off(e,t)},e.prototype.trigger=function(e,t){if(!e)throw new Error("type "+e+" undefined");this._dom.trigger(e,t)},e.mixin=function(t){e.prototype.constructor.call(t),_.extend(t,e.prototype)},e.prototype.dispatch=e.prototype.trigger,e.prototype.dispatchEvent=e.prototype.trigger,e.prototype.addEventListener=e.prototype.addListener,e.prototype.on=e.prototype.addListener,e.prototype.off=e.prototype.removeListener,e}),define("base/rockets/engine",["base/events/events","base/events/eventdispatcher"],function(e,t){"use strict";var n=function(){t.mixin(this)};return n.prototype.start=function(){this.trigger(e.ENGINE_STARTED)},n.prototype.destroy=function(){},n}),define("base/rockets/rocket",["base/rockets/engine","base/events/eventdispatcher","base/events/events"],function(e,t,n){"use strict";var r,i=0,s=0;for(i=0;i<100;i++)s+=i;r=function(e){console.log(e)};var o=function(){this.power=s,t.mixin(this),this.onEngineStartHandler=this.onEngineStarted.bind(this),this.onGamePausedHandler=this.onGamePaused.bind(this),this.engine=new e,this.addListeners()};return o.prototype.start=function(){this.engine.start()},o.prototype.addListeners=function(){this.engine.on(n.ENGINE_STARTED,this.onEngineStartHandler),t.getInstance().on(n.GAME_PAUSED,this.onGamePausedHandler)},o.prototype.onGamePaused=function(){console.log("rocket paused")},o.prototype.onEngineStarted=function(){console.log("an engine started!!",this)},o.prototype.doSomethingElse=function(){},o.prototype.destroy=function(){this.engine.off(n.ENGINE_STARTED,this.onEngineStartHandler),t.getInstance().off(n.GAME_PAUSED,this.onGamePausedHandler),this.engine.destroy()},o.prototype.zoom=function(){r(this),this.doSomethingElse()},o}),define("base/utils",[],function(){"use strict";var e={};return e.extends=function(e,t){var n;if(!e)throw new Error("no SubClassRef "+t);if(!t)throw new Error("no SuperClassRef "+e);e.Super=t,n=function(){},n.prototype=Object.create(t.prototype),e.prototype=new n,e.prototype.constructor=e},e}),define("base/rockets/bigrocket",["base/rockets/rocket","base/utils"],function(e,t){"use strict";var n=function(){n.Super.call(this)};return t.extends(n,e),n.prototype.zoom=function(){n.Super.prototype.zoom.call(this),console.log("bigrocket zoom")},n}),define("base/rockets/verybigrocket",["base/rockets/bigrocket","base/utils"],function(e,t){"use strict";var n=function(){n.Super.call(this)};return t.extends(n,e),n.prototype.zoom=function(){n.Super.prototype.zoom.call(this),console.log("verybigrocket zoom")},n}),define("base/spacegame",["base/rockets/rocket","base/rockets/bigrocket","base/rockets/verybigrocket","base/events/events","base/events/eventdispatcher"],function(e,t,n,r,i){"use strict";var s=function(){var s=new e,o=new t,u=new n;console.log("r1",s),console.log("r2",o),console.log("r3",u),s.start(),o.start(),u.start(),s.zoom(),o.zoom(),u.zoom(),setTimeout(function(){console.log("game paused"),i.getInstance().dispatchEvent(r.GAME_PAUSED)},5e3),setTimeout(function(){s.destroy(),o.destroy(),u.destroy()},7500),setTimeout(function(){console.log("game paused again"),i.getInstance().dispatchEvent(r.GAME_PAUSED)},1e4)};return s}),require.config({paths:{base:"js/"}}),require(["base/spacegame"],function(e){new e});var loadJson=function(){var e=new Q.Promise(function(e,t){var n=new Image;n.onload=function(){console.log("loaded"),e()},n.src="http://dreamatico.com/data_images/kitten/kitten-2.jpg",document.body.appendChild(n)});return e};loadJson().then(function(){alert("ready!")}),define("main",function(){});